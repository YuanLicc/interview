### 类加载

##### 1 Java 文件通过前端编译器（javac）编译成 class 文件

##### 2 加载

- 根据完全限定符得到 class 字节码字节流
- 静态数据结构转化为方法区运行时数据结构
- 生成Class 对象

##### 3 验证阶段

- 验证是否符合 class 文件规则

  魔数，版本号等

- 验证元数据是否正确

  类继承关系，字段声明，方法声明等

- 验证程序字节码是否正确

  验证程序段是否符合逻辑

##### 4 准备阶段

准备阶段对类变量赋初值；`final static 基本类型或者String 变量名 = 常量` 直接赋值。

##### 5 解析阶段

将可以确定的符号引用转化为直接引用。其它通过运行时动态链接。

##### 6 初始化

- 初始化内容

  - 静态变量赋值操作
  - static 块执行

- 初始化触发条件

  除引用类 `final static 基本类型或者String 变量名 = 常量` 外，其它均触发初始化

